{"version":3,"sources":["../src/utils/create-noop.js","../src/types/handler.js","../src/types/handlers-collection.js","../src/types/message-event.js","../src/types/message.js","../src/utils/generate-random-key.js","../src/utils/get-all-child-windows.js","../src/utils/environment.js","../src/channel/postmessage.transport.js","../src/channel/channel.js","../src/index.js"],"names":["module","exports","Handler","callback","identifier","createNoop","this","next","undefined","prev","prototype","call","event","HandlersCollection","head","tail","Symbol","handle","handler","push","last","remove","empty","MessageEvent","config","message","data","JSON","parse","err","console","error","Object","defineProperties","value","writable","timeStamp","key","create","self","constructor","Message","asJSON","stringify","Math","round","random","pow","getAllChildWindows","topWin","win","windows","frames","i","length","concat","nodeGlobal","browserWindow","window","location","global","top","isNodeJs","__dirname","Transport","port","origin","listeners","generateRandomKey","environment","send","index","topBrowserWindow","browserFrames","postMessage","onMessageEvent","listener","messageEvent","transport","addEventListener","close","removeEventListener","Channel","id","CrossChannel","name","crosschannel","arguments","TypeError","String","onmessage","closed","messageHandlers","channel","on","type","removeAllListeners","once","removeHandler","valueOf"],"mappings":"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","file":"cross-channel.min.js"}