{"version":3,"sources":["../node_modules/es6-symbol/is-implemented.js","../node_modules/es5-ext/object/assign/is-implemented.js","../node_modules/es5-ext/object/keys/is-implemented.js","../node_modules/es5-ext/object/keys/shim.js","../node_modules/es5-ext/object/keys/index.js","../node_modules/es5-ext/object/valid-value.js","../node_modules/es5-ext/object/assign/shim.js","../node_modules/es5-ext/object/assign/index.js","../node_modules/es5-ext/object/normalize-options.js","../node_modules/es5-ext/object/is-callable.js","../node_modules/es5-ext/string/#/contains/is-implemented.js","../node_modules/es5-ext/string/#/contains/shim.js","../node_modules/es5-ext/string/#/contains/index.js","../node_modules/d/index.js","../node_modules/es6-symbol/is-symbol.js","../node_modules/es6-symbol/validate-symbol.js","../node_modules/es6-symbol/polyfill.js","../node_modules/es6-symbol/index.js","../src/utils/create-noop.js","../src/types/handler.js","../src/types/handlers-collection.js","../src/channel/transports/postmessage.cross.transport.js","../src/channel/transports/postmessage.transport.js","../src/utils/frames.js","../src/channel/transports/nw.transport.js","../src/channel/transports/blank.transport.js","../src/channel/transports/extension.transport.js","../src/channel/transports/broadcastchannel.transport.js","../src/types/message-event.js","../src/utils/noop.js","../src/utils/is-dom-node.js","../src/types/message.js","../src/utils/generate-random-key.js","../src/services/location.js","../src/channel/transports/storage.transport.js","../src/channel/transport.js","../src/channel/channel.js","../src/utils/environment.js","../src/index.js"],"names":["validTypes","object","symbol","module","exports","Symbol","String","e","iterator","toPrimitive","toStringTag","assign","Object","obj","foo","bar","trzy","keys","value","TypeError","max","Math","dest","src","error","i","l","arguments","length","key","forEach","undefined","Array","prototype","create","process","options","result","call","str","contains","indexOf","searchString","normalizeOpts","isCallable","d","dscr","c","w","desc","configurable","enumerable","writable","gs","get","set","x","constructor","name","isSymbol","validateSymbol","defineProperties","defineProperty","objPrototype","NativeSymbol","SymbolPolyfill","HiddenSymbol","globalSymbols","isNativeSafe","ignore","generateName","created","postfix","ie11BugWorkaround","description","__description__","__name__","for","keyFor","s","hasInstance","isConcatSpreadable","match","replace","search","species","split","unscopables","toString","valueOf","createNoop","Handler","callback","identifier","next","prev","event","HandlersCollection","head","tail","handle","handler","push","last","remove","empty","MessageEvent","Message","generateRandomKey","getCrossChildWindows","getCrossOriginChildren","environment","locationOrigin","origin","global","window","Transport","port1","top","port2","listener","supported","Boolean","postMessage","EVENT_TYPE","send","data","message","windows","index","onMessageEvent","transport","messageEvent","source","sourceChannel","removeEventListener","addEventListener","close","getAllWindows","getAll","isSameOrigin","win","currentWin","location","is","nw","host","protocol","err","topWin","crossOriginFrames","frames","concat","getSameOriginChildren","sameOriginFrames","getAllChildren","childFrames","getSameOrigin","getCrossOrigin","children","getGUI","nwDispatcher","requireNwGui","whenGuiReadyThen","gui","timerId","setInterval","clearInterval","getNWWindowThen","nwWindow","Window","nwLoadedListener","port","on","node","nodeWebkit","browserWindow","topBrowserWindow","browserFrames","eval","frameElement","JSON","stringify","asJSON","nativeMessageEventWorks","removeListener","noop","chrome","extension","browser","runtime","tabs","detection","onMessage","sendMessage","query","id","lastError","sender","tab","url","addListener","BroadcastChannel","EventConstructor","config","parse","console","timeStamp","DOMConstructor","Node","element","isDOMNode","DOMException","round","random","pow","storageSupported","localStorage","URL","StorageEvent","latestEventData","eventType","params","document","createEvent","initEvent","oldValue","newValue","storageArea","Event","STORAGE_KEY","changeTrigger","messageJSON","setTimeout","storageEvent","setItem","dispatchEvent","PostMessageCrossTransport","PostMessageTransport","NwTransport","BlankTransport","ExtensionTransport","BroadcastChannelTransport","StorageTransport","SameOrigin","CrossOrigin","SameOriginTransport","CrossOriginTransport","Channel","sameTransport","crossTransport","self","nodeGlobal","isNode","__dirname","isNodeWebkit","versions","isNW","CrossChannel","crosschannel","onmessage","closed","messageHandlers","channel","type","removeAllListeners","once","removeHandler"],"mappings":"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","file":"cross-channel.js"}